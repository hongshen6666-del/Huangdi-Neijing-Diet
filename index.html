<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆé£Ÿ Â· å„¿ç«¥å¥åº·é¥®é£Ÿå…¨èƒ½ä»£ç†</title>
    <style>
        :root { --main: #2e7d32; --accent: #d44d22; --paper: #ffffff; --bg: #f1f8e9; }
        body { font-family: "PingFang SC", "Microsoft YaHei", sans-serif; background: var(--bg); margin: 0; padding: 10px; color: #333; }
        .container { max-width: 600px; margin: auto; background: var(--paper); border-radius: 20px; padding: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1 { color: var(--main); text-align: center; margin-bottom: 5px; }
        .sub-title { text-align: center; color: #666; font-size: 0.9em; margin-bottom: 20px; }
        
        /* æ¨¡å—å¯¼èˆª */
        .section-title { font-weight: bold; color: var(--main); margin: 15px 0 10px 0; display: block; }
        .grid-selector { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .tag { background: #f9f9f9; border: 1px solid #e0e0e0; padding: 12px 5px; border-radius: 12px; cursor: pointer; text-align: center; font-size: 0.9em; transition: 0.3s; }
        .tag.active { background: var(--main); color: white; border-color: var(--main); }

        /* ä¸‰é¤åˆ‡æ¢ */
        .meal-nav { display: flex; justify-content: space-around; margin: 25px 0 15px 0; border-bottom: 2px solid #eee; }
        .meal-btn { flex: 1; padding: 12px; cursor: pointer; text-align: center; color: #888; font-weight: bold; }
        .meal-btn.active { color: var(--main); border-bottom: 3px solid var(--main); }

        /* é£Ÿè°±å±•ç¤ºåŒº */
        .recipe-display { min-height: 220px; background: #fff; border: 1px solid #eee; border-radius: 15px; padding: 20px; box-shadow: inset 0 2px 5px rgba(0,0,0,0.02); }
        .recipe-name { font-weight:bold; color:var(--accent); font-size: 1.2em; margin-bottom: 10px; display: block; }
        .method { font-size: 0.95em; color: #444; background: #f5f5f5; padding: 15px; border-radius: 10px; line-height: 1.6; }

        /* æˆé•¿è®°å½•åŒº */
        .record-section { margin-top: 30px; padding-top: 20px; border-top: 2px dashed #ccc; }
        .input-group { display: flex; gap: 10px; margin-bottom: 10px; }
        input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 8px; }
        button.save-btn { background: var(--main); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; width: 100%; }
        .record-list { margin-top: 15px; font-size: 0.85em; background: #fff; padding: 10px; border-radius: 8px; max-height: 150px; overflow-y: auto; }

        .footer { text-align: center; font-size: 0.75em; color: #999; margin-top: 30px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ± å„¿ç«¥å¥åº·é£Ÿè°±ä»£ç†</h1>
        <div class="sub-title">ç§‘å­¦è†³é£Ÿ Â· å®ˆæŠ¤æˆé•¿ Â· åŒ…å«å±±è¥¿ç‰¹è‰²æ¨è</div>
        
        <span class="section-title">1. é€‰æ‹©ä»Šæ—¥ç›®æ ‡ï¼š</span>
        <div class="grid-selector">
            <div class="tag active" onclick="setCategory('growth', this)">å£®éª¨é•¿é«˜ (è¡¥é’™/è›‹ç™½)</div>
            <div class="tag" onclick="setCategory('brain', this)">ç›Šæ™ºè¡¥è„‘ (æŠ¤çœ¼/DHA)</div>
            <div class="tag" onclick="setCategory('digestion', this)">å¥è„¾å¼€èƒƒ (é’ˆå¯¹ç§¯é£Ÿ)</div>
            <div class="tag" onclick="setCategory('daily', this)">å‡è¡¡è¥å…» (å…¨èƒ½æ¯æ—¥)</div>
        </div>

        <div class="meal-nav">
            <div class="meal-btn active" onclick="setMeal('breakfast', this)">â˜€ï¸ æ—©é¤</div>
            <div class="meal-btn" onclick="setMeal('lunch', this)">ğŸŒ¤ï¸ åˆé¤</div>
            <div class="meal-btn" onclick="setMeal('dinner', this)">ğŸŒ™ æ™šé¤</div>
        </div>

        <div class="recipe-display" onclick="updateUI()">
            <span id="recipe-name" class="recipe-name">åŠ è½½ä¸­...</span>
            <div id="recipe-method" class="method"></div>
            <p style="text-align:center; font-size:0.7em; color:#999; margin-top:10px;">ç‚¹å‡»å¡ç‰‡éšæœºåˆ‡æ¢ä¸åŒæ–¹æ¡ˆ</p>
        </div>

        <div class="record-section">
            <span class="section-title">ğŸ“Š æˆé•¿è®°å½•å°</span>
            <div class="input-group">
                <input type="number" id="height" placeholder="èº«é«˜(cm)">
                <input type="number" id="weight" placeholder="ä½“é‡(kg)">
            </div>
            <button class="save-btn" onclick="saveRecord()">è®°å½•ä»Šæ—¥æ•°æ®</button>
            <div id="history" class="record-list">è¿˜æ²¡æœ‰è®°å½•ï¼Œå¼€å§‹è¿½è¸ªå§ï¼</div>
        </div>

        <div class="footer">
            æ•°æ®æ¥æºï¼šã€Šå„¿ç«¥é£Ÿè°±150ä¾‹ã€‹ | ç»“åˆé»„å¸å†…ç»é¡ºæ—¶å…»ç”Ÿ
        </div>
    </div>

    <script>
        const recipePool = {
            growth: {
                breakfast: [
                    { name: "èŠéº»é»‘è±†ä¹³", method: "åšæ³•ï¼šé»‘è±†æ³¡å‘ï¼Œé»‘èŠéº»ç‚’é¦™ã€‚æ”¾å…¥è±†æµ†æœºåŠ æ°´æ‰“æµ†ã€‚é»‘è±†å£®éª¨ï¼ŒèŠéº»è¡¥è‚¾ã€‚" },
                    { name: "é«˜é’™ç‡•éº¦ç‰›å¥¶ç²¥", method: "åšæ³•ï¼šç‡•éº¦ç‰‡åŠ å…¥çº¯ç‰›å¥¶ä¸­å°ç«ç…®å¼€ï¼Œå¯åŠ å…¥ç¢æ ¸æ¡ƒã€‚æä¾›å……è¶³é’™è´¨ä¸èƒ½é‡ã€‚" }
                ],
                lunch: [
                    { name: "æ¸…è’¸é²ˆé±¼", method: "åšæ³•ï¼šé²ˆé±¼åŠ è‘±å§œè’¸10åˆ†é’Ÿã€‚è‚‰è´¨ç»†å«©ï¼Œè¡¥é’™ä¸”ä¸ä¼¤è„¾èƒƒã€‚" },
                    { name: "è™¾çš®ç‚’æ²¹èœ", method: "åšæ³•ï¼šæ²¹èœåˆ‡æ®µï¼Œè™¾çš®æ´—å‡€ç‚’é¦™ã€‚å¿«é€Ÿç¿»ç‚’ã€‚é«˜é’™ç»„åˆï¼ŒåŒ—æ–¹å—æ–¹çš†å®œã€‚" }
                ],
                dinner: [
                    { name: "ç‰›è‚‰é’èœç–™ç˜©æ±¤", method: "åšæ³•ï¼šè‚‰æœ«ç‚’é¦™åŠ æ°´ï¼Œä¸‹ç»†å°é¢ç–™ç˜©ã€‚å±±è¥¿ç‰¹è‰²æ¨èï¼Œè¡¥é“å£®éª¨ã€‚" },
                    { name: "é»‘æœ¨è€³ç‚’è›‹", method: "åšæ³•ï¼šæœ¨è€³æ³¡å‘åˆ‡ä¸ï¼Œè›‹æ¶²ç‚’æ•£ååŠ å…¥åŒç‚’ã€‚æ¸…è‚ºè¡¥è¡€ã€‚" }
                ]
            },
            brain: {
                breakfast: [
                    { name: "æ ¸æ¡ƒçº¢æ£å°ç±³ç²¥", method: "åšæ³•ï¼šæ ¸æ¡ƒå‹ç¢ï¼Œæ£å»æ ¸ã€‚å°ç±³ç†¬çƒ‚ã€‚ç›Šæ™ºè¡¥è„‘ï¼Œå±±è¥¿ç»å…¸ç»„åˆã€‚" },
                    { name: "è›‹ç¾¹é…èŠéº»é…±", method: "åšæ³•ï¼šè’¸æ°´è›‹å‡ºé”…æ»´å°‘è®¸èŠéº»é…±å’Œç”ŸæŠ½ã€‚å¯Œå«åµç£·è„‚ã€‚" }
                ],
                lunch: [
                    { name: "èƒ¡èåœç…¨ç¾Šè‚‰", method: "åšæ³•ï¼šç¾Šè‚‰åˆ‡å—ç…¨çƒ‚ï¼ŒåŠ å¤§é‡èƒ¡èåœã€‚ä¿æŠ¤è§†åŠ›ï¼ŒåŒ—æ–¹æš–èº«ç›Šæ°”ã€‚" },
                    { name: "ä¸‰æ–‡é±¼/é±¼ç±»æ‹Œé¥­", method: "åšæ³•ï¼šé±¼è‚‰ç…ç†Ÿå‹ç¢ï¼Œæ‹Œå…¥è½¯ç±³é¥­ä¸­ã€‚æä¾›DHAã€‚" }
                ],
                dinner: [
                    { name: "å—ç“œè’¸ç™¾åˆ", method: "åšæ³•ï¼šè€å—ç“œåˆ‡å—é“ºä¸Šé²œç™¾åˆè’¸ç†Ÿã€‚å®‰ç¥æŠ¤çœ¼ï¼Œæ™šé¤é¦–é€‰ã€‚" },
                    { name: "é“¶è€³èŠ±ç”Ÿæ±¤", method: "åšæ³•ï¼šé“¶è€³æ³¡å‘ï¼ŒèŠ±ç”Ÿç…®è½¯ã€‚ç”Ÿæ´¥æ¶¦è‚ºã€‚" }
                ]
            },
            digestion: {
                breakfast: [
                    { name: "ç„¦é¦™ç‚’é¢ç³Š", method: "åšæ³•ï¼šå¹²ç²‰ç‚’é»„å†²æ°´ã€‚å±±è¥¿åŒ–ç§¯è€æ–¹ï¼Œä¸“é—¨åŒ–è§£é¢é£Ÿç§¯æ»ã€‚" },
                    { name: "é™ˆçš®ç™½ç²¥", method: "åšæ³•ï¼šé™ˆçš®ç†æ°”ï¼Œç™½ç²¥å’Œèƒƒã€‚ç§¯é£Ÿé¦–é€‰ã€‚" }
                ],
                lunch: [
                    { name: "ç™½èåœçƒ©è±†è…", method: "åšæ³•ï¼šç™½èåœä¸ä¸‹æ±¤ï¼Œè±†è…ä¸åŒç…®ã€‚ä¸‹æ°”æ¶ˆé£Ÿï¼ŒåŠ ä¸€æ»´è€é™ˆé†‹ã€‚" },
                    { name: "è¥¿çº¢æŸ¿è›‹é¢", method: "åšæ³•ï¼šè¥¿çº¢æŸ¿ç‚’å‡ºæ±åŠ æ°´ä¸‹é¢ã€‚é…¸ç”œå¼€èƒƒï¼Œè¡¥è„¾æ¶ˆç§¯ã€‚" }
                ],
                dinner: [
                    { name: "å—ç“œå°ç±³ç³Š", method: "åšæ³•ï¼šè’¸ç†Ÿå—ç“œå‹æ³¥å…¥å°ç±³ç²¥ã€‚è¡¥ä¸­ç›Šæ°”ï¼Œæ™šé¤ææ˜“æ¶ˆåŒ–ã€‚" },
                    { name: "èåœæ°´", method: "åšæ³•ï¼šèåœç…®æ°´å–æ±¤ã€‚é¥­ååŠå°æ—¶é¥®ç”¨æ¶ˆè…¹èƒ€ã€‚" }
                ]
            }
        };

        let currentCat = 'growth';
        let currentMeal = 'breakfast';

        function setCategory(cat, el) {
            currentCat = cat;
            document.querySelectorAll('.tag').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            updateUI();
        }

        function setMeal(m, el) {
            currentMeal = m;
            document.querySelectorAll('.meal-btn').forEach(b => b.classList.remove('active'));
            el.classList.add('active');
            updateUI();
        }

        function updateUI() {
            const options = recipePool[currentCat][currentMeal];
            const selected = options[Math.floor(Math.random() * options.length)];
            document.getElementById('recipe-name').innerText = selected.name;
            document.getElementById('recipe-method').innerText = selected.method;
        }

        // æˆé•¿è®°å½•é€»è¾‘
        function saveRecord() {
            const h = document.getElementById('height').value;
            const w = document.getElementById('weight').value;
            if(!h || !w) return alert("è¯·å®Œæ•´è¾“å…¥èº«é«˜ä½“é‡");
            const date = new Date().toLocaleDateString();
            const record = `${date}: èº«é«˜ ${h}cm, ä½“é‡ ${w}kg`;
            let records = JSON.parse(localStorage.getItem('growthRecords') || "[]");
            records.unshift(record);
            localStorage.setItem('growthRecords', JSON.stringify(records));
            displayRecords();
        }

        function displayRecords() {
            const records = JSON.parse(localStorage.getItem('growthRecords') || "[]");
            document.getElementById('history').innerHTML = records.map(r => `<div>${r}</div>`).join('') || "è¿˜æ²¡æœ‰è®°å½•";
        }

        updateUI();
        displayRecords();
    </script>
</body>
</html>
